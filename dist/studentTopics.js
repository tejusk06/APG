"use strict";(()=>{console.log("student Topics logic");MemberStack.onReady.then(function(o){o.loggedIn||window.location.replace(window.location.hostname);let l=null;o["is-parent"]==="yes"&&(o.membership.name==="AP Guru SAT Students"?window.location.replace("/sat-program/dashboard"):o.membership.name==="AP Guru ACT Students"&&window.location.replace("/act-program/dashboard")),o.membership.name==="AP Guru SAT Students"?l="recQ9LlXahxGsLY8I":o.membership.name==="AP Guru ACT Students"&&(l="reccXht5MjmINAccQ");function a(e,n){fetch(e).then(function(c){return c.blob().then(s=>{var t=document.createElement("a");t.href=URL.createObjectURL(s),t.setAttribute("download",n),t.click()})})}let p=document.querySelector(".topic-templates");p.style.display="none";let u=o.airtableid;fetch(`https://apguru-server.herokuapp.com/api/v1/topics/student/${u}-${l}`).then(e=>e.json()).then(e=>{let n=document.querySelector(".topic-list"),c=document.querySelectorAll(".topic-wrap-cms"),{completedTopics:s}=e;console.log("response",e),c.forEach(t=>{let i=t.querySelector(".topic-id"),f=t.querySelector(".topic-completed"),h=t.querySelector(".topic-not-completed"),r=t.querySelector(".topic-notes-button"),y=r.href;r.href="#";let S=t.querySelector(".topic-name").innerHTML;if(r.onclick=function(){a(`${y}`,`${S} - Topic Notes`)},i){let A=i.innerHTML;s.includes(A)?(f.style.display="flex",n.prepend(t)):h.style.display="flex"}})});let d=Array.from(document.querySelectorAll(".filter-button")),m=()=>{let e=document.querySelector(".topic-list");document.querySelectorAll(".topic-wrap-cms").forEach(c=>{c.querySelector(".topic-completed").style.display==="flex"&&e.prepend(c)})};d.forEach(e=>{e.onclick=()=>{setTimeout(m,200)}})});})();

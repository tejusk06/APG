"use strict";(()=>{console.log("student classes logic");MemberStack.onReady.then(function(s){s.loggedIn||window.location.replace(window.location.hostname);let u=null;s["is-parent"]==="yes"&&(s.membership.name==="AP Guru SAT Students"?window.location.replace("/sat-new-program/dashboard"):s.membership.name==="AP Guru ACT Students"&&window.location.replace("/act-new-program/dashboard")),s.membership.name==="AP Guru SAT Students"?u="recQ9LlXahxGsLY8I":s.membership.name==="AP Guru ACT Students"&&(u="reccXht5MjmINAccQ");let f=document.querySelector(".class-templates");f.style.display="none";let q=s.airtableid,a=o=>o.replaceAll("SAT - "," ").replaceAll("ACT - "," ");fetch(`https://apguru-apis.herokuapp.com/api/v1/classes/student/${q}-${u}`).then(o=>o.json()).then(o=>{let l=document.querySelectorAll(".classes-holder")[0],r=document.querySelectorAll(".class-wrap.upcoming")[0],L=document.querySelectorAll(".class-wrap.completed")[0],g=document.querySelectorAll(".class-wrap.missed")[0];o.upcomingClasses.forEach(t=>{document.querySelector(".empty-message").style.display="none";let e=r.cloneNode(!0);e.querySelector(".class-date-text").innerHTML=`${t.formattedTime}`,e.querySelector(".class-name").innerHTML=`${t.className.split("-")[0]}`,e.querySelector(".teacher-name").innerHTML=`${t.teacherName}`,e.querySelector(".location-text").innerHTML=t.location?t.location:"",e.querySelector(".time-text").innerHTML=t.formattedTime?t.formattedTime:"",t.zoomLink?e.querySelector(".button-zoom-link").href=`${t.zoomLink}`:e.querySelector(".button-zoom-link").style.display="none",t.notes&&t.notes.trim()!==""?e.querySelector(".notes-text").innerHTML=`${t.notes}`:e.querySelector(".notes-pointer").style.display="none",l.appendChild(e)}),o.completedClasses.forEach(t=>{document.querySelector(".empty-message").style.display="none";let e=L.cloneNode(!0);if(e.querySelector(".class-date-text").innerHTML=`${t.formattedTime}`,e.querySelector(".class-name").innerHTML=`${t.className.split("-")[0]}`,e.querySelector(".teacher-name").innerHTML=`${t.teacherName}`,t.classTopics){let c=a(t.classTopics);e.querySelector(".topics-text").innerHTML=`${c}`,e.querySelector(".homework-text").innerHTML=`${c}`}else e.querySelector(".topics-text").innerHTML="",e.querySelector(".homework-text").innerHTML="";t.zoomRecording?e.querySelector(".button-zoom-recording").href=`${t.zoomRecording}`:e.querySelector(".button-zoom-recording").style.display="none",t.notes&&t.notes.trim()!==""?e.querySelector(".notes-text").innerHTML=`${t.notes}`:e.querySelector(".notes-pointer").style.display="none",l.appendChild(e)}),o.missedClasses.forEach(t=>{document.querySelector(".empty-message").style.display="none";let e=g.cloneNode(!0);if(e.querySelector(".class-date-text").innerHTML=`${t.formattedTime}`,e.querySelector(".class-name").innerHTML=`${t.className.split("-")[0]}`,e.querySelector(".teacher-name").innerHTML=`${t.teacherName}`,t.classTopics){let c=a(t.classTopics);e.querySelector(".topics-text").innerHTML=`${c}`,e.querySelector(".homework-text").innerHTML=`${c}`}else e.querySelector(".topics-text").innerHTML="",e.querySelector(".homework-text").innerHTML="";t.zoomRecording?e.querySelector(".button-zoom-recording").href=`${t.zoomRecording}`:e.querySelector(".button-zoom-recording").style.display="none",t.notes&&t.notes.trim()!==""?e.querySelector(".notes-text").innerHTML=`${t.notes}`:e.querySelector(".notes-pointer").style.display="none",l.appendChild(e)})});let h=document.querySelectorAll(".empty-text"),n=document.querySelector(".classes-holder"),T=document.querySelectorAll(".filter-button"),d=document.querySelector("#filter-all"),m=document.querySelector("#filter-upcoming"),p=document.querySelector("#filter-completed"),S=document.querySelector("#filter-missed"),i=()=>{T.forEach(o=>{o.classList.contains("filter-button-active")&&o.classList.remove("filter-button-active")})},y=()=>{h.forEach(o=>{o.style.display="none"})};d.addEventListener("click",function(){i(),d.classList.add("filter-button-active");let o=n.querySelectorAll(".class-wrap");o.forEach(l=>{document.querySelector(".empty-message").style.display="none",l.style.display="block"}),o.length===0&&(document.querySelector(".empty-message").style.display="flex",y(),document.querySelector(".empty-text.all").style.display="block")}),m.addEventListener("click",function(){i(),m.classList.add("filter-button-active");let o=n.querySelectorAll(".class-wrap"),l=n.querySelectorAll(".class-wrap.upcoming");o.forEach(r=>{r.style.display="none"}),l.forEach(r=>{document.querySelector(".empty-message").style.display="none",r.style.display="block"}),l.length===0&&(document.querySelector(".empty-message").style.display="flex",y(),document.querySelector(".empty-text.upcoming").style.display="block")}),p.addEventListener("click",function(){i(),p.classList.add("filter-button-active");let o=n.querySelectorAll(".class-wrap"),l=n.querySelectorAll(".class-wrap.completed");o.forEach(r=>{r.style.display="none"}),l.forEach(r=>{document.querySelector(".empty-message").style.display="none",r.style.display="block"}),l.length===0&&(document.querySelector(".empty-message").style.display="flex",y(),document.querySelector(".empty-text.completed").style.display="block")}),S.addEventListener("click",function(){i(),S.classList.add("filter-button-active");let o=n.querySelectorAll(".class-wrap"),l=n.querySelectorAll(".class-wrap.missed");o.forEach(r=>{r.style.display="none"}),l.forEach(r=>{document.querySelector(".empty-message").style.display="none",r.style.display="block"}),l.length===0&&(document.querySelector(".empty-message").style.display="flex",y(),document.querySelector(".empty-text.missed").style.display="block")})});})();

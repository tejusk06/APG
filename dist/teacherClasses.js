"use strict";(()=>{console.log("teacher classes logic ");MemberStack.onReady.then(function(i){i.loggedIn||window.location.replace(window.location.hostname);let a=document.querySelector(".class-templates");a.style.display="none";let S=i.airtableid,q=n=>n.replaceAll("SAT - "," ").replaceAll("ACT - "," ");fetch(`https://apguru-server.herokuapp.com/api/v1/classes/teacher/${S}`).then(n=>n.json()).then(n=>{let o=document.querySelectorAll(".classes-holder")[0],H=document.querySelectorAll(".class-wrap.upcoming")[0],M=document.querySelectorAll(".class-wrap.completed")[0],$=document.querySelectorAll(".class-wrap.overdue")[0];console.log("response",n),n.upcomingClasses.forEach(e=>{document.querySelector(".empty-message").style.display="none";let t=H.cloneNode(!0);t.querySelector(".class-date-text").innerHTML=`${e.formattedTime}`,t.querySelector(".class-name").innerHTML=`${e.className.split("-")[0]}`,t.querySelector(".teacher-name").innerHTML=`${e.teacherName}`,t.querySelector(".location-text").innerHTML=e.location?e.location:"",t.querySelector(".time-text").innerHTML=e.formattedTime?e.formattedTime:"",e.students?t.querySelector(".students-text").innerHTML=`${e.students}`:t.querySelector(".students-list").style.display="none",e.zoomLink?t.querySelector(".button-zoom-link").href=`${e.zoomLink}`:t.querySelector(".button-zoom-link").style.display="none",t.querySelector(".view-class-button").href=`/teacher/class/?classID=${e.classID}`,e.notes&&e.notes.trim()!==""?t.querySelector(".notes-text").innerHTML=`${e.notes}`:t.querySelector(".notes-pointer").style.display="none",t.querySelector(".days-from-today").innerHTML=`${e.daysFromToday}`,o.appendChild(t)}),n.overdueClasses.forEach(e=>{let t=$.cloneNode(!0);t.querySelector(".class-date-text").innerHTML=`${e.formattedTime}`,t.querySelector(".class-name").innerHTML=`${e.className.split("-")[0]}`,t.querySelector(".teacher-name").innerHTML=`${e.teacherName}`,t.querySelector(".student-names").innerHTML=e.studentNames?`${e.studentNames}`:" ",t.querySelector(".teacher-name").innerHTML=`${e.teacherName}`,t.querySelector(".location-text").innerHTML=e.location?e.location:"",t.querySelector(".time-text").innerHTML=e.formattedTime?e.formattedTime:"",e.students?t.querySelector(".students-text").innerHTML=`${e.students}`:t.querySelector(".students-list").style.display="none",e.notes&&e.notes.trim()!==""?t.querySelector(".notes-text").innerHTML=`${e.notes}`:t.querySelector(".notes-pointer").style.display="none",t.querySelector(".course-section").innerHTML=`${e.courseSection}`,t.querySelector(".course-id").innerHTML=`${e.courseID}`,e.zoomLink?t.querySelector(".button-zoom-link").href=`${e.zoomLink}`:t.querySelector(".button-zoom-link").style.display="none",t.querySelector(".view-class-button").href=`/coordinator-admin/class/?classID=${e.classID}`,o.appendChild(t)}),n.completedClasses.forEach(e=>{document.querySelector(".empty-message").style.display="none";let t=M.cloneNode(!0);if(t.querySelector(".class-date-text").innerHTML=`${e.formattedTime}`,t.querySelector(".class-name").innerHTML=`${e.className.split("-")[0]}`,t.querySelector(".teacher-name").innerHTML=`${e.teacherName}`,e.classTopics){let f=q(e.classTopics);t.querySelector(".topics-text").innerHTML=`${f}`,t.querySelector(".homework-text").innerHTML=`${f}`}else t.querySelector(".class-details-wrap").style.display="none";e.students?t.querySelector(".students-text").innerHTML=`${e.students}`:t.querySelector(".students-list").style.display="none",e.zoomRecording?t.querySelector(".button-zoom-recording").href=`${e.zoomRecording}`:t.querySelector(".button-zoom-recording").style.display="none",t.querySelector(".view-class-button").href=`/teacher/class/?classID=${e.classID}`,e.notes&&e.notes.trim()!==""?t.querySelector(".notes-text").innerHTML=`${e.notes}`:t.querySelector(".notes-pointer").style.display="none",o.appendChild(t)})});let L=document.querySelector(".classes-date"),r="",c="",p=document.querySelectorAll(".empty-text"),T=document.querySelector(".classes-holder"),h=document.querySelectorAll(".filter-button"),u=document.querySelector("#filter-all"),d=document.querySelector("#filter-upcoming"),y=document.querySelector("#filter-completed"),m=document.querySelector("#filter-overdue"),l=()=>{let n=T.querySelectorAll(".class-wrap");n.forEach(o=>{o.classList.contains("hide")&&o.classList.remove("hide")}),r&&n.forEach(o=>{o.classList.contains(`${r}`)||o.classList.add("hide")}),c&&(console.log("date filter entered",c),n.forEach(o=>{o.classList.contains("upcoming")?(o.querySelector(".days-from-today").innerHTML>c||o.querySelector(".days-from-today").innerHTML<0)&&(console.log(c),o.classList.contains("hide")||o.classList.add("hide")):o.classList.add("hide")})),document.querySelector(".empty-message").style.display="flex",n.forEach(o=>{o.classList.contains("hide")||(document.querySelector(".empty-message").style.display="none",console.log("hiding the empty message"))})};L.addEventListener("change",n=>{c=n.target.value,l()});let s=()=>{h.forEach(n=>{n.classList.contains("filter-button-active")&&n.classList.remove("filter-button-active")})},b=()=>{p.forEach(n=>{n.style.display="none"})};u.addEventListener("click",function(){s(),u.classList.add("filter-button-active"),r="",l()}),d.addEventListener("click",function(){s(),d.classList.add("filter-button-active"),r="upcoming",l()}),m.addEventListener("click",function(){s(),m.classList.add("filter-button-active"),r="overdue",l()}),y.addEventListener("click",function(){s(),y.classList.add("filter-button-active"),r="completed",l()})});})();

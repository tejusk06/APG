"use strict";(()=>{MemberStack.onReady.then(function(n){n.loggedIn||window.location.replace(window.location.hostname),n["is-parent"]==="yes"&&(n.membership.name==="AP Guru SAT Students"?window.location.replace("/sat-new-program/dashboard"):n.membership.name==="AP Guru ACT Students"&&window.location.replace("/act-new-program/dashboard"));let m=n.airtableid;document.querySelectorAll(".homework-wrap").forEach(t=>{t.style.display="none"}),Date.prototype.addDays=function(t){var e=new Date(this.valueOf());return e.setDate(e.getDate()+t),e},fetch(`https://apguru-server.herokuapp.com/api/v1/homework/student/${m}`).then(t=>t.json()).then(t=>{let e=t.homeworkArray,q=document.querySelectorAll(".homework-wrap");function w(o,l){fetch(o).then(function(p){return p.blob().then(a=>{var r=document.createElement("a");r.href=URL.createObjectURL(a),r.setAttribute("download",l),r.click()})})}let h=new Date,g=function(o){return o.setHours(0,0,0,0)<=h.setHours(0,0,0,0)};e.forEach(o=>{document.querySelector(".empty-message").style.display="none",q.forEach(l=>{let p=l.querySelector(".hw-name").innerHTML,a=l.querySelector(".topic-id");if(a){let r=a.innerHTML;if(o.topicId===r){l.style.display="flex";let L=l.querySelector(".hw-name").innerHTML;o.attachment?l.querySelector(".hw-download-btn").onclick=function(){w(`${o.attachment}`,`${L} - Homework`)}:l.querySelector(".hw-download-btn").style.display="none",o.completed?(l.querySelector(".hw-completed").style.display="flex",l.querySelector(".homework-status").innerHTML="completed"):g(new Date(o.date).addDays(1))?(l.querySelector(".hw-due").style.display="flex",l.querySelector(".hw-due-date").innerHTML=o.momentDate,l.querySelector(".homework-status").innerHTML="due"):(l.querySelector(".hw-pending").style.display="flex",l.querySelector(".hw-pending-date").innerHTML=o.momentDate,l.querySelector(".homework-status").innerHTML="pending")}}})})});let f=document.querySelectorAll(".empty-text"),S=document.querySelectorAll(".filter-button"),i=document.querySelector("#filter-all"),d=document.querySelector("#filter-pending"),u=document.querySelector("#filter-completed"),y=document.querySelector("#filter-due"),s=()=>{S.forEach(t=>{t.classList.contains("filter-button-active")&&t.classList.remove("filter-button-active")})},c=()=>{f.forEach(t=>{t.style.display="none"})};i.addEventListener("click",function(){s(),i.classList.add("filter-button-active");let t=document.querySelectorAll(".homework-wrap");c(),document.querySelector(".empty-message").style.display="flex",document.querySelector(".empty-text.all").style.display="block",t.forEach(e=>{e.querySelector(".homework-status").innerHTML!=="null"?(e.style.display="flex",document.querySelector(".empty-message").style.display="none"):e.style.display="none"})}),d.addEventListener("click",function(){s(),d.classList.add("filter-button-active");let t=document.querySelectorAll(".homework-wrap");c(),document.querySelector(".empty-message").style.display="flex",document.querySelector(".empty-text.pending").style.display="block",t.forEach(e=>{e.querySelector(".homework-status").innerHTML==="pending"?(e.style.display="flex",document.querySelector(".empty-message").style.display="none"):e.style.display="none"})}),u.addEventListener("click",function(){s(),u.classList.add("filter-button-active");let t=document.querySelectorAll(".homework-wrap");c(),document.querySelector(".empty-message").style.display="flex",document.querySelector(".empty-text.completed").style.display="block",t.forEach(e=>{e.querySelector(".homework-status").innerHTML==="completed"?(e.style.display="flex",document.querySelector(".empty-message").style.display="none"):e.style.display="none"})}),y.addEventListener("click",function(){s(),y.classList.add("filter-button-active");let t=document.querySelectorAll(".homework-wrap");c(),document.querySelector(".empty-message").style.display="flex",document.querySelector(".empty-text.overdue").style.display="block",t.forEach(e=>{e.querySelector(".homework-status").innerHTML==="due"?(e.style.display="flex",document.querySelector(".empty-message").style.display="none"):e.style.display="none"})})});})();
